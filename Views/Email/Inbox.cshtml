@model IEnumerable<CS436CVC3PROJECT.Models.EmailMessage>

<h2 class="text-center mb-4">Inbox</h2>

<!-- Add a Compose button above the table -->
<div class="d-flex justify-content-end mb-3">
    <a asp-action="Compose" class="btn btn-success btn-lg">
        <i class="bi bi-pencil-square"></i> Compose
    </a>
</div>

<table class="table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th>Subject</th>
            <th>From</th>
            <th>Date Sent</th>
            <th>Status</th>
            <th>Manage</th> <!-- Column for actions (Read, Edit, Delete) -->
        </tr>
    </thead>
    <tbody>
        @foreach (var email in Model)
        {
            <tr>
                <td>@email.Subject</td>
                <td>@email.Sender</td>
                <td>@email.SentDate</td>
                <td>@(email.IsRead ? "Read" : "Unread")</td>
                <td>
                    <!-- Grouped action buttons in the 'Manage' column -->
                    <a asp-action="Read" asp-route-id="@email.Id" class="btn btn-primary btn-sm" title="Read">
                        <i class="bi bi-envelope-open"></i> Read
                    </a>
                    <a asp-action="Edit" asp-route-id="@email.Id" class="btn btn-warning btn-sm" title="Edit">
                        <i class="bi bi-pencil"></i> Edit
                    </a>
                    <a asp-action="Delete" asp-route-id="@email.Id" class="btn btn-danger btn-sm" title="Delete">
                        <i class="bi bi-trash"></i> Delete
                    </a>
                </td>
            </tr>
        }
    </tbody>
</table>

<!-- Include Bootstrap Icons for Compose, Read, Edit, and Delete buttons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<!-- Custom Styling for the table and buttons -->
<style>
    /* Make the table striped and with hover effect */
    .table-striped tbody tr:nth-of-type(odd) {
        background-color: #f9f9f9;
    }

    .table-hover tbody tr:hover {
        background-color: #f1f1f1;
    }

    /* Button styling for Compose, Read, Edit and Delete */
    .btn-lg {
        font-size: 18px;
        padding: 10px 20px;
    }

    .btn-sm {
        font-size: 14px;
        padding: 5px 10px;
    }

    .btn-primary, .btn-warning, .btn-danger {
        font-weight: bold;
    }

    /* Add space around the buttons */
    .btn-success, .btn-warning, .btn-danger, .btn-primary {
        padding-left: 15px;
        padding-right: 15px;
    }

    /* Table cell padding */
    th, td {
        padding: 12px;
        text-align: left;
    }

    /* Table header styling */
    th {
        background-color: #007bff;
        color: black;
    }

    /* Center table title */
    h2 {
        text-align: center;
    }

    /* Button icon styling */
    .btn i {
        margin-right: 5px;
    }

    /* Ensure spacing between buttons */
    .btn {
        margin-right: 5px;
    }
</style>
